!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("bpdLogger",[],n):"object"==typeof exports?exports.bpdLogger=n():e.bpdLogger=n()}(self,(function(){return(()=>{"use strict";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{PROPERTIES:()=>o,getLogger:()=>p,getSetupBuilder:()=>d,matchesLevel:()=>r,parseLogProperty:()=>f});var t=function(e,n,t,o){return new(t||(t=Promise))((function(r,i){function u(e){try{s(o.next(e))}catch(e){i(e)}}function c(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,c)}s((o=o.apply(e,n||[])).next())}))};const o={MESSAGE:"message",ID:"id",MODULE:"module",METHOD:"method",PERFORFMANCE:"performance"};function r(e,n){if(e===n)return!0;if("debug"===n)return!0;if("none"===n)return!1;return a.findIndex(n=>n===e)<=a.findIndex(e=>e===n)}function i(e,n){return[...e,...n]}function u(e){return e||[]}function c(e){return t(this,void 0,void 0,(function*(){return"function"==typeof e?function(e){return t(this,void 0,void 0,(function*(){const n=performance.now(),t=e();return[performance.now()-n,t]}))}(e):e instanceof Promise?function(e){return t(this,void 0,void 0,(function*(){const n=performance.now(),t=yield e;return[performance.now()-n,t]}))}(e):[0,e]}))}function s(e,n,t){return Object.assign(Object.assign({},e),{[n]:t})}function f(e){return"function"==typeof e?e():e}function d(e,n,t){return{withLevel:t=>d(Object.assign({},e),n,t),withReporters:(...o)=>{const r=i(u(e.reporters),o);return d(s(e,"reporters",r),n,t)},withExtensions:(...o)=>{const r=i(u(e.extensions),o);return d(s(e,"extensions",r),n,t)},clearReporters:()=>d(s(e,"reporters",[]),n,t),clearExtensions:()=>d(s(e,"extensions",[]),n,t),save:()=>p(e,n,t)}}function p(e,n,i){const u={id:e=>u.prop(o.ID,e),module:e=>u.prop(o.MODULE,e),method:e=>u.prop(o.METHOD,e),prop:(t,o)=>p(Object.assign({},e),function(e,t){const o=new Map(n);return o.set(e,t),o}(t,o),i),configure:t=>d(Object.assign(Object.assign({},e),t),new Map(n),i),debug:e=>t(this,void 0,void 0,(function*(){return u.log("debug",e)})),warn:e=>t(this,void 0,void 0,(function*(){return u.log("warn",e)})),info:e=>t(this,void 0,void 0,(function*(){return u.log("info",e)})),error:e=>t(this,void 0,void 0,(function*(){return u.log("error",e)})),exception:e=>t(this,void 0,void 0,(function*(){return u.log("exception",()=>"string"==typeof e?e:`[${e.name}] ${e.message}`,e)})),measure:(e,r)=>t(this,void 0,void 0,(function*(){var t,i;try{const[s,f]=yield c(e),d=s.toFixed(null!==(t=null==r?void 0:r.fraction)&&void 0!==t?t:4);n.set(o.PERFORFMANCE,d);if(yield u.log("debug",`${null!==(i=null==r?void 0:r.label)&&void 0!==i?i:"Performance"}: ${d}`))return f}catch(e){if(yield u.exception(e),!0===(null==r?void 0:r.rethrow))throw e}return null})),log:(u,c,s)=>t(this,void 0,void 0,(function*(){if(!a.includes(u)||!r(u,i))return!1;const f=new Map(n);return c&&f.set(o.MESSAGE,c),function(e,n){n&&n.forEach(n=>e.set(...n()))}(f,e.extensions),function(e,n,o,r){return t(this,void 0,void 0,(function*(){if(!o)return!1;try{const t=new Date;yield Promise.all(o.map(o=>o({props:n,timestamp:t,level:e,error:r})))}catch(e){return console.error(e),!1}return!0}))}(u,f,e.reporters,s)}))};return u}const a=["none","exception","error","warn","info","debug"];p({reporters:[],extensions:[]},new Map,"none");return n})()}));
//# sourceMappingURL=logger.min.js.map